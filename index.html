<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>lidarObstacleDetection â€¢ lidarObstacleDetection</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="lidarObstacleDetection">
<meta property="og:description" content="Obstacle detection using lidar point clouds">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">lidarObstacleDetection</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ragu-manjegowda/lidar-obstacle-detection/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="lidar-obstacle-detection" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#lidar-obstacle-detection" class="anchor"></a>lidar-obstacle-detection</h1></div>
<p><img src="reference/figures/cyclist.gif" width="700" height="400"></p>
<p><img src="reference/figures/pipeline.png" width="700" height="400"></p>
<div id="obstacle-detection-using-lidar-data" class="section level2">
<h2 class="hasAnchor">
<a href="#obstacle-detection-using-lidar-data" class="anchor"></a>Obstacle detection using lidar data</h2>
<p>Processing point clouds, and use it to detect car and trucks on a narrow street using lidar.</p>
<p>Detection pipeline : filtering -&gt; segmentation -&gt; clustering -&gt; bounding boxes.</p>
<p>Segmentation and clustering methods are created from scratch.</p>
<div id="lidar-point-cloud" class="section level3">
<h3 class="hasAnchor">
<a href="#lidar-point-cloud" class="anchor"></a>Lidar Point Cloud</h3>
<p>This is the sample lidar city point cloud which is used in the project to test the obstacle detection pipeline.</p>
<p><img src="reference/figures/cityPointCloud.png" width="700" height="400"></p>
</div>
<div id="filtering" class="section level3">
<h3 class="hasAnchor">
<a href="#filtering" class="anchor"></a>Filtering</h3>
<p>Filtering is the first step in removing points not in region of interest (ROI). In addition to that points cloud is downsampled to appropiate <a href="https://en.wikipedia.org/wiki/Voxel">Voxel Grid</a> in order to improve the computation efficiency as shown in below image.</p>
<p><img src="reference/figures/roi.png" width="700" height="400"></p>
</div>
<div id="segmentation" class="section level3">
<h3 class="hasAnchor">
<a href="#segmentation" class="anchor"></a>Segmentation</h3>
<p>Point clouds is separated into obstable cloud and plane cloud using RANSAC algorithm implemented from scratch.</p>
<p>Below is the simulated scenario shown with lidar rays rendered</p>
<p><img src="reference/figures/scenarioWithLidarRays.png" width="700" height="400"></p>
<p>Following is the segmentation output, as seen in the image point clouds is segmented into two parts as plane cloud and obstacle cloud. All the points that belong to plane cloud (Road surface) is shown in green and the obstacle cloud is rendered in red color.</p>
<p><img src="reference/figures/segmentation.png" width="700" height="400"></p>
</div>
<div id="clustering" class="section level3">
<h3 class="hasAnchor">
<a href="#clustering" class="anchor"></a>Clustering</h3>
<p>Euclidean Clustering method implemented using KD tree is used to cluster the obstable cloud obtained from Segmentation. Which is later used to track objects.</p>
<p>Below is the image of KD-Tree implementation that was able to cluster 2D points</p>
<p><img src="reference/figures/KD-Tree.png" width="700" height="400"></p>
<p>KD-Tree implmentation is then extended to support 3D PCL point clouds.</p>
<p>Then based on the principles of Euclidean clustering clusters are extracted from obstacle points cloud using KD-Tree implemented earlier.</p>
<p>Results seen after applied clustering on the above shown sample simulated data is shown below where three clusters are extracted from obstacle points cloud and each cluster is marked with different color.</p>
<p><img src="reference/figures/cluster.png" width="700" height="400"></p>
</div>
<div id="bounding-box" class="section level3">
<h3 class="hasAnchor">
<a href="#bounding-box" class="anchor"></a>Bounding Box</h3>
<p>Below figure shows the bounding box drawn using pcl library around the clusters indentified in clustering step.</p>
<p><img src="reference/figures/bBox.png" width="700" height="400"></p>
<p>To account for the vehicles direction in advanced driving scenarios, minimum oriented bounding box of the cluster point cloud is drawn using the Principle Component analysis by projecting obstacles on xy plane.</p>
<p><img src="reference/figures/bBoxQ.png" width="700" height="400"></p>
<p>In addition to that a bounding box is also drawn to show the roof of the vehicle as shown below</p>
<p><img src="reference/figures/vehicleRoof.png" width="700" height="400"></p>
</div>
<div id="putting-it-all-together" class="section level3">
<h3 class="hasAnchor">
<a href="#putting-it-all-together" class="anchor"></a>Putting it all together</h3>
<p>Finally plumbing everything in the pipeline we have the following image which detects obstacles (vehicles, pole, pedestrians) in the ROI.</p>
<p>There are two things involved here which needs to be considered.</p>
<ol>
<li>Detecting vehicles (objects with bigger ROI)</li>
</ol>
<p>For detecting vehicles we need to tune the tweak the clustering parameters such that points less than certain threshold are discarded, we need to also increase the distance threshold so that points with larger distance (front and back of vehicle) is not discarded.</p>
<ol>
<li>Detecting pedestrians, poles etcc., (objects with smaller ROI)</li>
</ol>
<p>For detecting objects with smaller ROI we need to crop all clusters that has more number of points more than certain threshold also we can notice that points of such objects are closer.</p>
<p><img src="reference/figures/pipeline.png" width="700" height="400"></p>
<p><img src="reference/figures/ObstacleDetectionFPS.gif" width="700" height="400"></p>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div id="docker" class="section level3">
<h3 class="hasAnchor">
<a href="#docker" class="anchor"></a>Docker</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$<span class="op">&gt;</span> <span class="ex">docker</span> pull ragumanjegowda/docker:latest</code></pre></div>
</div>
<div id="ubuntu" class="section level3">
<h3 class="hasAnchor">
<a href="#ubuntu" class="anchor"></a>Ubuntu</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$<span class="op">&gt;</span> <span class="co"># I have not tested on host Ubuntu, this worked with my DockerImage </span>
$<span class="op">&gt;</span> <span class="fu">sudo</span> apt install libproj-dev libpcl-dev ninja-build cmake</code></pre></div>
</div>
<div id="mac-via-homebrew" class="section level3">
<h3 class="hasAnchor">
<a href="#mac-via-homebrew" class="anchor"></a>MAC (via Homebrew)</h3>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$<span class="op">&gt;</span> <span class="ex">brew</span> tap brewsci/science
$<span class="op">&gt;</span> <span class="ex">brew</span> install pcl
$<span class="op">&gt;</span> <span class="ex">brew</span> install ninja cmake</code></pre></div>
</div>
</div>
<div id="build-and-run" class="section level2">
<h2 class="hasAnchor">
<a href="#build-and-run" class="anchor"></a>Build and Run</h2>
<div class="sourceCode"><pre class="sourceCode bash"><code class="sourceCode bash">$<span class="op">&gt;</span> <span class="fu">mkdir</span> build <span class="kw">&amp;&amp;</span> <span class="bu">cd</span> build
$<span class="op">&gt;</span> <span class="fu">cmake</span> -G Ninja ..
$<span class="op">&gt;</span> <span class="ex">ninja</span> -j400
$<span class="op">&gt;</span> <span class="ex">./environment</span></code></pre></div>
</div>
<div id="credits" class="section level2">
<h2 class="hasAnchor">
<a href="#credits" class="anchor"></a>Credits</h2>
<p>Based on Udacityâ€™s <a href="https://github.com/udacity/SFND_Lidar_Obstacle_Detection">SFND_Lidar_Obstacle_Detection</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/ragu-manjegowda/lidar-obstacle-detection/">https://â€‹github.com/â€‹ragu-manjegowda/â€‹lidar-obstacle-detection/â€‹</a>
</li>
<li>Report a bug at <br><a href="https://github.com/ragu-manjegowda/lidar-obstacle-detection/issues">https://â€‹github.com/â€‹ragu-manjegowda/â€‹lidar-obstacle-detection/â€‹issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://opensource.org/licenses/mit-license.php">MIT</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Ragu Manjegowda <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p>Developed by Ragu Manjegowda.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
